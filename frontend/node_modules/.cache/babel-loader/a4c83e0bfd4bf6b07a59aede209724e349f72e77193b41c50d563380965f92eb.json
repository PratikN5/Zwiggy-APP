{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ReviewForm=_ref=>{let{restaurantId,onReviewAdded}=_ref;const[rating,setRating]=useState(5);const[comment,setComment]=useState('');const[loading,setLoading]=useState(false);const[error,setError]=useState('');const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError('');try{// You may need to add auth headers here\nawait axios.post(`/api/reviews/${restaurantId}`,{rating,comment});setComment('');setRating(5);if(onReviewAdded)onReviewAdded();}catch(err){setError('Failed to submit review.');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,style:{marginBottom:16},children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Leave a Review\"}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Rating:\",/*#__PURE__*/_jsx(\"select\",{value:rating,onChange:e=>setRating(Number(e.target.value)),children:[1,2,3,4,5].map(n=>/*#__PURE__*/_jsx(\"option\",{value:n,children:n},n))})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Comment:\",/*#__PURE__*/_jsx(\"textarea\",{value:comment,onChange:e=>setComment(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,children:loading?'Submitting...':'Submit Review'}),error&&/*#__PURE__*/_jsx(\"div\",{style:{color:'red'},children:error})]});};export default ReviewForm;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","ReviewForm","_ref","restaurantId","onReviewAdded","rating","setRating","comment","setComment","loading","setLoading","error","setError","handleSubmit","e","preventDefault","post","err","onSubmit","style","marginBottom","children","value","onChange","Number","target","map","n","required","type","disabled","color"],"sources":["D:/Zwiggy-APP/frontend/src/components/ReviewForm.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst ReviewForm = ({ restaurantId, onReviewAdded }) => {\r\n  const [rating, setRating] = useState(5);\r\n  const [comment, setComment] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError('');\r\n    try {\r\n      // You may need to add auth headers here\r\n      await axios.post(`/api/reviews/${restaurantId}`, { rating, comment });\r\n      setComment('');\r\n      setRating(5);\r\n      if (onReviewAdded) onReviewAdded();\r\n    } catch (err) {\r\n      setError('Failed to submit review.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} style={{marginBottom: 16}}>\r\n      <h4>Leave a Review</h4>\r\n      <label>\r\n        Rating:\r\n        <select value={rating} onChange={e => setRating(Number(e.target.value))}>\r\n          {[1,2,3,4,5].map(n => <option key={n} value={n}>{n}</option>)}\r\n        </select>\r\n      </label>\r\n      <br />\r\n      <label>\r\n        Comment:\r\n        <textarea value={comment} onChange={e => setComment(e.target.value)} required />\r\n      </label>\r\n      <br />\r\n      <button type=\"submit\" disabled={loading}>{loading ? 'Submitting...' : 'Submit Review'}</button>\r\n      {error && <div style={{color:'red'}}>{error}</div>}\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default ReviewForm;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,UAAU,CAAGC,IAAA,EAAqC,IAApC,CAAEC,YAAY,CAAEC,aAAc,CAAC,CAAAF,IAAA,CACjD,KAAM,CAACG,MAAM,CAAEC,SAAS,CAAC,CAAGX,QAAQ,CAAC,CAAC,CAAC,CACvC,KAAM,CAACY,OAAO,CAAEC,UAAU,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACc,OAAO,CAAEC,UAAU,CAAC,CAAGf,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACgB,KAAK,CAAEC,QAAQ,CAAC,CAAGjB,QAAQ,CAAC,EAAE,CAAC,CAEtC,KAAM,CAAAkB,YAAY,CAAG,KAAO,CAAAC,CAAC,EAAK,CAChCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBL,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,EAAE,CAAC,CACZ,GAAI,CACF;AACA,KAAM,CAAAhB,KAAK,CAACoB,IAAI,CAAC,gBAAgBb,YAAY,EAAE,CAAE,CAAEE,MAAM,CAAEE,OAAQ,CAAC,CAAC,CACrEC,UAAU,CAAC,EAAE,CAAC,CACdF,SAAS,CAAC,CAAC,CAAC,CACZ,GAAIF,aAAa,CAAEA,aAAa,CAAC,CAAC,CACpC,CAAE,MAAOa,GAAG,CAAE,CACZL,QAAQ,CAAC,0BAA0B,CAAC,CACtC,CAAC,OAAS,CACRF,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,mBACEV,KAAA,SAAMkB,QAAQ,CAAEL,YAAa,CAACM,KAAK,CAAE,CAACC,YAAY,CAAE,EAAE,CAAE,CAAAC,QAAA,eACtDvB,IAAA,OAAAuB,QAAA,CAAI,gBAAc,CAAI,CAAC,cACvBrB,KAAA,UAAAqB,QAAA,EAAO,SAEL,cAAAvB,IAAA,WAAQwB,KAAK,CAAEjB,MAAO,CAACkB,QAAQ,CAAET,CAAC,EAAIR,SAAS,CAACkB,MAAM,CAACV,CAAC,CAACW,MAAM,CAACH,KAAK,CAAC,CAAE,CAAAD,QAAA,CACrE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAACK,GAAG,CAACC,CAAC,eAAI7B,IAAA,WAAgBwB,KAAK,CAAEK,CAAE,CAAAN,QAAA,CAAEM,CAAC,EAAfA,CAAwB,CAAC,CAAC,CACvD,CAAC,EACJ,CAAC,cACR7B,IAAA,QAAK,CAAC,cACNE,KAAA,UAAAqB,QAAA,EAAO,UAEL,cAAAvB,IAAA,aAAUwB,KAAK,CAAEf,OAAQ,CAACgB,QAAQ,CAAET,CAAC,EAAIN,UAAU,CAACM,CAAC,CAACW,MAAM,CAACH,KAAK,CAAE,CAACM,QAAQ,MAAE,CAAC,EAC3E,CAAC,cACR9B,IAAA,QAAK,CAAC,cACNA,IAAA,WAAQ+B,IAAI,CAAC,QAAQ,CAACC,QAAQ,CAAErB,OAAQ,CAAAY,QAAA,CAAEZ,OAAO,CAAG,eAAe,CAAG,eAAe,CAAS,CAAC,CAC9FE,KAAK,eAAIb,IAAA,QAAKqB,KAAK,CAAE,CAACY,KAAK,CAAC,KAAK,CAAE,CAAAV,QAAA,CAAEV,KAAK,CAAM,CAAC,EAC9C,CAAC,CAEX,CAAC,CAED,cAAe,CAAAV,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}